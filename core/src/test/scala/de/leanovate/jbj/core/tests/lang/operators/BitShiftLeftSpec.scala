/*    _ _     _                                        *\
**   (_) |__ (_)  License: MIT  (2013)                 **
**   | |  _ \| |    http://opensource.org/licenses/MIT **
**   | | |_) | |                                       **
**  _/ |____// |  Author: Bodo Junglas                 **
\* |__/    |__/                 (Tests based on PHP)   */

package de.leanovate.jbj.core.tests.lang.operators

import org.specs2.mutable.SpecificationWithJUnit
import de.leanovate.jbj.core.tests.TestJbjExecutor

class BitShiftLeftSpec extends SpecificationWithJUnit with TestJbjExecutor {
  "<< operator" should {
    "Test << operator : 64bit long tests" in {
      // lang/operators/bitwiseShiftLeft_basiclong_64bit.phpt
      script(
        """<?php
          |
          |define("MAX_64Bit", 9223372036854775807);
          |define("MAX_32Bit", 2147483647);
          |define("MIN_64Bit", -9223372036854775807 - 1);
          |define("MIN_32Bit", -2147483647 - 1);
          |
          |$longVals = array(
          |    MAX_64Bit, MIN_64Bit, MAX_32Bit, MIN_32Bit, MAX_64Bit - MAX_32Bit, MIN_64Bit - MIN_32Bit,
          |    MAX_32Bit + 1, MIN_32Bit - 1, MAX_32Bit * 2, (MAX_32Bit * 2) + 1, (MAX_32Bit * 2) - 1,
          |    MAX_64Bit -1, MAX_64Bit + 1, MIN_64Bit + 1, MIN_64Bit - 1
          |);
          |
          |$otherVals = array(0, 1, -1, 7, 9, 65, -44, MAX_32Bit, MAX_64Bit);
          |
          |error_reporting(E_ERROR);
          |
          |foreach ($longVals as $longVal) {
          |   foreach($otherVals as $otherVal) {
          |	   echo "--- testing: $longVal << $otherVal ---\n";
          |      var_dump($longVal<<$otherVal);
          |   }
          |}
          |
          |foreach ($otherVals as $otherVal) {
          |   foreach($longVals as $longVal) {
          |	   echo "--- testing: $otherVal << $longVal ---\n";
          |      var_dump($otherVal<<$longVal);
          |   }
          |}
          |
          |?>
          |===DONE===
          |""".stripMargin
      ).result must haveOutput(
        """--- testing: 9223372036854775807 << 0 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << 1 ---
          |int(-2)
          |--- testing: 9223372036854775807 << -1 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775807 << 7 ---
          |int(-128)
          |--- testing: 9223372036854775807 << 9 ---
          |int(-512)
          |--- testing: 9223372036854775807 << 65 ---
          |int(-2)
          |--- testing: 9223372036854775807 << -44 ---
          |int(-1048576)
          |--- testing: 9223372036854775807 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775807 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: -9223372036854775808 << 0 ---
          |int(-9223372036854775808)
          |--- testing: -9223372036854775808 << 1 ---
          |int(0)
          |--- testing: -9223372036854775808 << -1 ---
          |int(0)
          |--- testing: -9223372036854775808 << 7 ---
          |int(0)
          |--- testing: -9223372036854775808 << 9 ---
          |int(0)
          |--- testing: -9223372036854775808 << 65 ---
          |int(0)
          |--- testing: -9223372036854775808 << -44 ---
          |int(0)
          |--- testing: -9223372036854775808 << 2147483647 ---
          |int(0)
          |--- testing: -9223372036854775808 << 9223372036854775807 ---
          |int(0)
          |--- testing: 2147483647 << 0 ---
          |int(2147483647)
          |--- testing: 2147483647 << 1 ---
          |int(4294967294)
          |--- testing: 2147483647 << -1 ---
          |int(-9223372036854775808)
          |--- testing: 2147483647 << 7 ---
          |int(274877906816)
          |--- testing: 2147483647 << 9 ---
          |int(1099511627264)
          |--- testing: 2147483647 << 65 ---
          |int(4294967294)
          |--- testing: 2147483647 << -44 ---
          |int(2251799812636672)
          |--- testing: 2147483647 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 2147483647 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: -2147483648 << 0 ---
          |int(-2147483648)
          |--- testing: -2147483648 << 1 ---
          |int(-4294967296)
          |--- testing: -2147483648 << -1 ---
          |int(0)
          |--- testing: -2147483648 << 7 ---
          |int(-274877906944)
          |--- testing: -2147483648 << 9 ---
          |int(-1099511627776)
          |--- testing: -2147483648 << 65 ---
          |int(-4294967296)
          |--- testing: -2147483648 << -44 ---
          |int(-2251799813685248)
          |--- testing: -2147483648 << 2147483647 ---
          |int(0)
          |--- testing: -2147483648 << 9223372036854775807 ---
          |int(0)
          |--- testing: 9223372034707292160 << 0 ---
          |int(9223372034707292160)
          |--- testing: 9223372034707292160 << 1 ---
          |int(-4294967296)
          |--- testing: 9223372034707292160 << -1 ---
          |int(0)
          |--- testing: 9223372034707292160 << 7 ---
          |int(-274877906944)
          |--- testing: 9223372034707292160 << 9 ---
          |int(-1099511627776)
          |--- testing: 9223372034707292160 << 65 ---
          |int(-4294967296)
          |--- testing: 9223372034707292160 << -44 ---
          |int(-2251799813685248)
          |--- testing: 9223372034707292160 << 2147483647 ---
          |int(0)
          |--- testing: 9223372034707292160 << 9223372036854775807 ---
          |int(0)
          |--- testing: -9223372034707292160 << 0 ---
          |int(-9223372034707292160)
          |--- testing: -9223372034707292160 << 1 ---
          |int(4294967296)
          |--- testing: -9223372034707292160 << -1 ---
          |int(0)
          |--- testing: -9223372034707292160 << 7 ---
          |int(274877906944)
          |--- testing: -9223372034707292160 << 9 ---
          |int(1099511627776)
          |--- testing: -9223372034707292160 << 65 ---
          |int(4294967296)
          |--- testing: -9223372034707292160 << -44 ---
          |int(2251799813685248)
          |--- testing: -9223372034707292160 << 2147483647 ---
          |int(0)
          |--- testing: -9223372034707292160 << 9223372036854775807 ---
          |int(0)
          |--- testing: 2147483648 << 0 ---
          |int(2147483648)
          |--- testing: 2147483648 << 1 ---
          |int(4294967296)
          |--- testing: 2147483648 << -1 ---
          |int(0)
          |--- testing: 2147483648 << 7 ---
          |int(274877906944)
          |--- testing: 2147483648 << 9 ---
          |int(1099511627776)
          |--- testing: 2147483648 << 65 ---
          |int(4294967296)
          |--- testing: 2147483648 << -44 ---
          |int(2251799813685248)
          |--- testing: 2147483648 << 2147483647 ---
          |int(0)
          |--- testing: 2147483648 << 9223372036854775807 ---
          |int(0)
          |--- testing: -2147483649 << 0 ---
          |int(-2147483649)
          |--- testing: -2147483649 << 1 ---
          |int(-4294967298)
          |--- testing: -2147483649 << -1 ---
          |int(-9223372036854775808)
          |--- testing: -2147483649 << 7 ---
          |int(-274877907072)
          |--- testing: -2147483649 << 9 ---
          |int(-1099511628288)
          |--- testing: -2147483649 << 65 ---
          |int(-4294967298)
          |--- testing: -2147483649 << -44 ---
          |int(-2251799814733824)
          |--- testing: -2147483649 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: -2147483649 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 4294967294 << 0 ---
          |int(4294967294)
          |--- testing: 4294967294 << 1 ---
          |int(8589934588)
          |--- testing: 4294967294 << -1 ---
          |int(0)
          |--- testing: 4294967294 << 7 ---
          |int(549755813632)
          |--- testing: 4294967294 << 9 ---
          |int(2199023254528)
          |--- testing: 4294967294 << 65 ---
          |int(8589934588)
          |--- testing: 4294967294 << -44 ---
          |int(4503599625273344)
          |--- testing: 4294967294 << 2147483647 ---
          |int(0)
          |--- testing: 4294967294 << 9223372036854775807 ---
          |int(0)
          |--- testing: 4294967295 << 0 ---
          |int(4294967295)
          |--- testing: 4294967295 << 1 ---
          |int(8589934590)
          |--- testing: 4294967295 << -1 ---
          |int(-9223372036854775808)
          |--- testing: 4294967295 << 7 ---
          |int(549755813760)
          |--- testing: 4294967295 << 9 ---
          |int(2199023255040)
          |--- testing: 4294967295 << 65 ---
          |int(8589934590)
          |--- testing: 4294967295 << -44 ---
          |int(4503599626321920)
          |--- testing: 4294967295 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 4294967295 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 4294967293 << 0 ---
          |int(4294967293)
          |--- testing: 4294967293 << 1 ---
          |int(8589934586)
          |--- testing: 4294967293 << -1 ---
          |int(-9223372036854775808)
          |--- testing: 4294967293 << 7 ---
          |int(549755813504)
          |--- testing: 4294967293 << 9 ---
          |int(2199023254016)
          |--- testing: 4294967293 << 65 ---
          |int(8589934586)
          |--- testing: 4294967293 << -44 ---
          |int(4503599624224768)
          |--- testing: 4294967293 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 4294967293 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775806 << 0 ---
          |int(9223372036854775806)
          |--- testing: 9223372036854775806 << 1 ---
          |int(-4)
          |--- testing: 9223372036854775806 << -1 ---
          |int(0)
          |--- testing: 9223372036854775806 << 7 ---
          |int(-256)
          |--- testing: 9223372036854775806 << 9 ---
          |int(-1024)
          |--- testing: 9223372036854775806 << 65 ---
          |int(-4)
          |--- testing: 9223372036854775806 << -44 ---
          |int(-2097152)
          |--- testing: 9223372036854775806 << 2147483647 ---
          |int(0)
          |--- testing: 9223372036854775806 << 9223372036854775807 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << 0 ---
          |int(-9223372036854775808)
          |--- testing: 9.2233720368548E+18 << 1 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << -1 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << 7 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << 9 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << 65 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << -44 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << 2147483647 ---
          |int(0)
          |--- testing: 9.2233720368548E+18 << 9223372036854775807 ---
          |int(0)
          |--- testing: -9223372036854775807 << 0 ---
          |int(-9223372036854775807)
          |--- testing: -9223372036854775807 << 1 ---
          |int(2)
          |--- testing: -9223372036854775807 << -1 ---
          |int(-9223372036854775808)
          |--- testing: -9223372036854775807 << 7 ---
          |int(128)
          |--- testing: -9223372036854775807 << 9 ---
          |int(512)
          |--- testing: -9223372036854775807 << 65 ---
          |int(2)
          |--- testing: -9223372036854775807 << -44 ---
          |int(1048576)
          |--- testing: -9223372036854775807 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: -9223372036854775807 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: -9.2233720368548E+18 << 0 ---
          |int(-9223372036854775808)
          |--- testing: -9.2233720368548E+18 << 1 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << -1 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << 7 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << 9 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << 65 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << -44 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << 2147483647 ---
          |int(0)
          |--- testing: -9.2233720368548E+18 << 9223372036854775807 ---
          |int(0)
          |--- testing: 0 << 9223372036854775807 ---
          |int(0)
          |--- testing: 0 << -9223372036854775808 ---
          |int(0)
          |--- testing: 0 << 2147483647 ---
          |int(0)
          |--- testing: 0 << -2147483648 ---
          |int(0)
          |--- testing: 0 << 9223372034707292160 ---
          |int(0)
          |--- testing: 0 << -9223372034707292160 ---
          |int(0)
          |--- testing: 0 << 2147483648 ---
          |int(0)
          |--- testing: 0 << -2147483649 ---
          |int(0)
          |--- testing: 0 << 4294967294 ---
          |int(0)
          |--- testing: 0 << 4294967295 ---
          |int(0)
          |--- testing: 0 << 4294967293 ---
          |int(0)
          |--- testing: 0 << 9223372036854775806 ---
          |int(0)
          |--- testing: 0 << 9.2233720368548E+18 ---
          |int(0)
          |--- testing: 0 << -9223372036854775807 ---
          |int(0)
          |--- testing: 0 << -9.2233720368548E+18 ---
          |int(0)
          |--- testing: 1 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 1 << -9223372036854775808 ---
          |int(1)
          |--- testing: 1 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 1 << -2147483648 ---
          |int(1)
          |--- testing: 1 << 9223372034707292160 ---
          |int(1)
          |--- testing: 1 << -9223372034707292160 ---
          |int(1)
          |--- testing: 1 << 2147483648 ---
          |int(1)
          |--- testing: 1 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: 1 << 4294967294 ---
          |int(4611686018427387904)
          |--- testing: 1 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: 1 << 4294967293 ---
          |int(2305843009213693952)
          |--- testing: 1 << 9223372036854775806 ---
          |int(4611686018427387904)
          |--- testing: 1 << 9.2233720368548E+18 ---
          |int(1)
          |--- testing: 1 << -9223372036854775807 ---
          |int(2)
          |--- testing: 1 << -9.2233720368548E+18 ---
          |int(1)
          |--- testing: -1 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: -1 << -9223372036854775808 ---
          |int(-1)
          |--- testing: -1 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: -1 << -2147483648 ---
          |int(-1)
          |--- testing: -1 << 9223372034707292160 ---
          |int(-1)
          |--- testing: -1 << -9223372034707292160 ---
          |int(-1)
          |--- testing: -1 << 2147483648 ---
          |int(-1)
          |--- testing: -1 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: -1 << 4294967294 ---
          |int(-4611686018427387904)
          |--- testing: -1 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: -1 << 4294967293 ---
          |int(-2305843009213693952)
          |--- testing: -1 << 9223372036854775806 ---
          |int(-4611686018427387904)
          |--- testing: -1 << 9.2233720368548E+18 ---
          |int(-1)
          |--- testing: -1 << -9223372036854775807 ---
          |int(-2)
          |--- testing: -1 << -9.2233720368548E+18 ---
          |int(-1)
          |--- testing: 7 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 7 << -9223372036854775808 ---
          |int(7)
          |--- testing: 7 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 7 << -2147483648 ---
          |int(7)
          |--- testing: 7 << 9223372034707292160 ---
          |int(7)
          |--- testing: 7 << -9223372034707292160 ---
          |int(7)
          |--- testing: 7 << 2147483648 ---
          |int(7)
          |--- testing: 7 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: 7 << 4294967294 ---
          |int(-4611686018427387904)
          |--- testing: 7 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: 7 << 4294967293 ---
          |int(-2305843009213693952)
          |--- testing: 7 << 9223372036854775806 ---
          |int(-4611686018427387904)
          |--- testing: 7 << 9.2233720368548E+18 ---
          |int(7)
          |--- testing: 7 << -9223372036854775807 ---
          |int(14)
          |--- testing: 7 << -9.2233720368548E+18 ---
          |int(7)
          |--- testing: 9 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 9 << -9223372036854775808 ---
          |int(9)
          |--- testing: 9 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 9 << -2147483648 ---
          |int(9)
          |--- testing: 9 << 9223372034707292160 ---
          |int(9)
          |--- testing: 9 << -9223372034707292160 ---
          |int(9)
          |--- testing: 9 << 2147483648 ---
          |int(9)
          |--- testing: 9 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: 9 << 4294967294 ---
          |int(4611686018427387904)
          |--- testing: 9 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: 9 << 4294967293 ---
          |int(2305843009213693952)
          |--- testing: 9 << 9223372036854775806 ---
          |int(4611686018427387904)
          |--- testing: 9 << 9.2233720368548E+18 ---
          |int(9)
          |--- testing: 9 << -9223372036854775807 ---
          |int(18)
          |--- testing: 9 << -9.2233720368548E+18 ---
          |int(9)
          |--- testing: 65 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 65 << -9223372036854775808 ---
          |int(65)
          |--- testing: 65 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 65 << -2147483648 ---
          |int(65)
          |--- testing: 65 << 9223372034707292160 ---
          |int(65)
          |--- testing: 65 << -9223372034707292160 ---
          |int(65)
          |--- testing: 65 << 2147483648 ---
          |int(65)
          |--- testing: 65 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: 65 << 4294967294 ---
          |int(4611686018427387904)
          |--- testing: 65 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: 65 << 4294967293 ---
          |int(2305843009213693952)
          |--- testing: 65 << 9223372036854775806 ---
          |int(4611686018427387904)
          |--- testing: 65 << 9.2233720368548E+18 ---
          |int(65)
          |--- testing: 65 << -9223372036854775807 ---
          |int(130)
          |--- testing: 65 << -9.2233720368548E+18 ---
          |int(65)
          |--- testing: -44 << 9223372036854775807 ---
          |int(0)
          |--- testing: -44 << -9223372036854775808 ---
          |int(-44)
          |--- testing: -44 << 2147483647 ---
          |int(0)
          |--- testing: -44 << -2147483648 ---
          |int(-44)
          |--- testing: -44 << 9223372034707292160 ---
          |int(-44)
          |--- testing: -44 << -9223372034707292160 ---
          |int(-44)
          |--- testing: -44 << 2147483648 ---
          |int(-44)
          |--- testing: -44 << -2147483649 ---
          |int(0)
          |--- testing: -44 << 4294967294 ---
          |int(0)
          |--- testing: -44 << 4294967295 ---
          |int(0)
          |--- testing: -44 << 4294967293 ---
          |int(-9223372036854775808)
          |--- testing: -44 << 9223372036854775806 ---
          |int(0)
          |--- testing: -44 << 9.2233720368548E+18 ---
          |int(-44)
          |--- testing: -44 << -9223372036854775807 ---
          |int(-88)
          |--- testing: -44 << -9.2233720368548E+18 ---
          |int(-44)
          |--- testing: 2147483647 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 2147483647 << -9223372036854775808 ---
          |int(2147483647)
          |--- testing: 2147483647 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 2147483647 << -2147483648 ---
          |int(2147483647)
          |--- testing: 2147483647 << 9223372034707292160 ---
          |int(2147483647)
          |--- testing: 2147483647 << -9223372034707292160 ---
          |int(2147483647)
          |--- testing: 2147483647 << 2147483648 ---
          |int(2147483647)
          |--- testing: 2147483647 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: 2147483647 << 4294967294 ---
          |int(-4611686018427387904)
          |--- testing: 2147483647 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: 2147483647 << 4294967293 ---
          |int(-2305843009213693952)
          |--- testing: 2147483647 << 9223372036854775806 ---
          |int(-4611686018427387904)
          |--- testing: 2147483647 << 9.2233720368548E+18 ---
          |int(2147483647)
          |--- testing: 2147483647 << -9223372036854775807 ---
          |int(4294967294)
          |--- testing: 2147483647 << -9.2233720368548E+18 ---
          |int(2147483647)
          |--- testing: 9223372036854775807 << 9223372036854775807 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775807 << -9223372036854775808 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << 2147483647 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775807 << -2147483648 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << 9223372034707292160 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << -9223372034707292160 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << 2147483648 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << -2147483649 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775807 << 4294967294 ---
          |int(-4611686018427387904)
          |--- testing: 9223372036854775807 << 4294967295 ---
          |int(-9223372036854775808)
          |--- testing: 9223372036854775807 << 4294967293 ---
          |int(-2305843009213693952)
          |--- testing: 9223372036854775807 << 9223372036854775806 ---
          |int(-4611686018427387904)
          |--- testing: 9223372036854775807 << 9.2233720368548E+18 ---
          |int(9223372036854775807)
          |--- testing: 9223372036854775807 << -9223372036854775807 ---
          |int(-2)
          |--- testing: 9223372036854775807 << -9.2233720368548E+18 ---
          |int(9223372036854775807)
          |===DONE===
          |""".stripMargin
      )
    }

    "Test << operator : various numbers as strings" in {
      // lang/operators/bitwiseShiftLeft_variationStr_64bit.phpt
      script(
        """<?php
          |
          |$strVals = array(
          |   "0","65","-44", "1.2", "-7.7", "abc", "123abc", "123e5", "123e5xyz", " 123abc", "123 abc", "123abc ", "3.4a",
          |   "a5.9"
          |);
          |
          |error_reporting(E_ERROR);
          |
          |foreach ($strVals as $strVal) {
          |   foreach($strVals as $otherVal) {
          |	   echo "--- testing: '$strVal' << '$otherVal' ---\n";
          |      var_dump(bin2hex($strVal<<$otherVal));
          |   }
          |}
          |
          |
          |?>
          |===DONE===
          |""".stripMargin
      ).result must haveOutput(
        """--- testing: '0' << '0' ---
          |string(2) "30"
          |--- testing: '0' << '65' ---
          |string(2) "30"
          |--- testing: '0' << '-44' ---
          |string(2) "30"
          |--- testing: '0' << '1.2' ---
          |string(2) "30"
          |--- testing: '0' << '-7.7' ---
          |string(2) "30"
          |--- testing: '0' << 'abc' ---
          |string(2) "30"
          |--- testing: '0' << '123abc' ---
          |string(2) "30"
          |--- testing: '0' << '123e5' ---
          |string(2) "30"
          |--- testing: '0' << '123e5xyz' ---
          |string(2) "30"
          |--- testing: '0' << ' 123abc' ---
          |string(2) "30"
          |--- testing: '0' << '123 abc' ---
          |string(2) "30"
          |--- testing: '0' << '123abc ' ---
          |string(2) "30"
          |--- testing: '0' << '3.4a' ---
          |string(2) "30"
          |--- testing: '0' << 'a5.9' ---
          |string(2) "30"
          |--- testing: '65' << '0' ---
          |string(4) "3635"
          |--- testing: '65' << '65' ---
          |string(6) "313330"
          |--- testing: '65' << '-44' ---
          |string(16) "3638313537343430"
          |--- testing: '65' << '1.2' ---
          |string(6) "313330"
          |--- testing: '65' << '-7.7' ---
          |string(40) "2d39303739323536383438373738393139393336"
          |--- testing: '65' << 'abc' ---
          |string(4) "3635"
          |--- testing: '65' << '123abc' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '65' << '123e5' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '65' << '123e5xyz' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '65' << ' 123abc' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '65' << '123 abc' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '65' << '123abc ' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '65' << '3.4a' ---
          |string(6) "353230"
          |--- testing: '65' << 'a5.9' ---
          |string(4) "3635"
          |--- testing: '-44' << '0' ---
          |string(6) "2d3434"
          |--- testing: '-44' << '65' ---
          |string(6) "2d3838"
          |--- testing: '-44' << '-44' ---
          |string(18) "2d3436313337333434"
          |--- testing: '-44' << '1.2' ---
          |string(6) "2d3838"
          |--- testing: '-44' << '-7.7' ---
          |string(40) "2d36333431303638323735333337363538333638"
          |--- testing: '-44' << 'abc' ---
          |string(6) "2d3434"
          |--- testing: '-44' << '123abc' ---
          |string(40) "2d36393137353239303237363431303831383536"
          |--- testing: '-44' << '123e5' ---
          |string(40) "2d36393137353239303237363431303831383536"
          |--- testing: '-44' << '123e5xyz' ---
          |string(40) "2d36393137353239303237363431303831383536"
          |--- testing: '-44' << ' 123abc' ---
          |string(40) "2d36393137353239303237363431303831383536"
          |--- testing: '-44' << '123 abc' ---
          |string(40) "2d36393137353239303237363431303831383536"
          |--- testing: '-44' << '123abc ' ---
          |string(40) "2d36393137353239303237363431303831383536"
          |--- testing: '-44' << '3.4a' ---
          |string(8) "2d333532"
          |--- testing: '-44' << 'a5.9' ---
          |string(6) "2d3434"
          |--- testing: '1.2' << '0' ---
          |string(2) "31"
          |--- testing: '1.2' << '65' ---
          |string(2) "32"
          |--- testing: '1.2' << '-44' ---
          |string(14) "31303438353736"
          |--- testing: '1.2' << '1.2' ---
          |string(2) "32"
          |--- testing: '1.2' << '-7.7' ---
          |string(36) "313434313135313838303735383535383732"
          |--- testing: '1.2' << 'abc' ---
          |string(2) "31"
          |--- testing: '1.2' << '123abc' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '1.2' << '123e5' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '1.2' << '123e5xyz' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '1.2' << ' 123abc' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '1.2' << '123 abc' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '1.2' << '123abc ' ---
          |string(36) "353736343630373532333033343233343838"
          |--- testing: '1.2' << '3.4a' ---
          |string(2) "38"
          |--- testing: '1.2' << 'a5.9' ---
          |string(2) "31"
          |--- testing: '-7.7' << '0' ---
          |string(4) "2d37"
          |--- testing: '-7.7' << '65' ---
          |string(6) "2d3134"
          |--- testing: '-7.7' << '-44' ---
          |string(16) "2d37333430303332"
          |--- testing: '-7.7' << '1.2' ---
          |string(6) "2d3134"
          |--- testing: '-7.7' << '-7.7' ---
          |string(40) "2d31303038383036333136353330393931313034"
          |--- testing: '-7.7' << 'abc' ---
          |string(4) "2d37"
          |--- testing: '-7.7' << '123abc' ---
          |string(40) "2d34303335323235323636313233393634343136"
          |--- testing: '-7.7' << '123e5' ---
          |string(40) "2d34303335323235323636313233393634343136"
          |--- testing: '-7.7' << '123e5xyz' ---
          |string(40) "2d34303335323235323636313233393634343136"
          |--- testing: '-7.7' << ' 123abc' ---
          |string(40) "2d34303335323235323636313233393634343136"
          |--- testing: '-7.7' << '123 abc' ---
          |string(40) "2d34303335323235323636313233393634343136"
          |--- testing: '-7.7' << '123abc ' ---
          |string(40) "2d34303335323235323636313233393634343136"
          |--- testing: '-7.7' << '3.4a' ---
          |string(6) "2d3536"
          |--- testing: '-7.7' << 'a5.9' ---
          |string(4) "2d37"
          |--- testing: 'abc' << '0' ---
          |string(2) "30"
          |--- testing: 'abc' << '65' ---
          |string(2) "30"
          |--- testing: 'abc' << '-44' ---
          |string(2) "30"
          |--- testing: 'abc' << '1.2' ---
          |string(2) "30"
          |--- testing: 'abc' << '-7.7' ---
          |string(2) "30"
          |--- testing: 'abc' << 'abc' ---
          |string(2) "30"
          |--- testing: 'abc' << '123abc' ---
          |string(2) "30"
          |--- testing: 'abc' << '123e5' ---
          |string(2) "30"
          |--- testing: 'abc' << '123e5xyz' ---
          |string(2) "30"
          |--- testing: 'abc' << ' 123abc' ---
          |string(2) "30"
          |--- testing: 'abc' << '123 abc' ---
          |string(2) "30"
          |--- testing: 'abc' << '123abc ' ---
          |string(2) "30"
          |--- testing: 'abc' << '3.4a' ---
          |string(2) "30"
          |--- testing: 'abc' << 'a5.9' ---
          |string(2) "30"
          |--- testing: '123abc' << '0' ---
          |string(6) "313233"
          |--- testing: '123abc' << '65' ---
          |string(6) "323436"
          |--- testing: '123abc' << '-44' ---
          |string(18) "313238393734383438"
          |--- testing: '123abc' << '1.2' ---
          |string(6) "323436"
          |--- testing: '123abc' << '-7.7' ---
          |string(38) "2d373230353735393430333739323739333630"
          |--- testing: '123abc' << 'abc' ---
          |string(6) "313233"
          |--- testing: '123abc' << '123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc' << '123e5' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc' << '123e5xyz' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc' << ' 123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc' << '123 abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc' << '123abc ' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc' << '3.4a' ---
          |string(6) "393834"
          |--- testing: '123abc' << 'a5.9' ---
          |string(6) "313233"
          |--- testing: '123e5' << '0' ---
          |string(6) "313233"
          |--- testing: '123e5' << '65' ---
          |string(6) "323436"
          |--- testing: '123e5' << '-44' ---
          |string(18) "313238393734383438"
          |--- testing: '123e5' << '1.2' ---
          |string(6) "323436"
          |--- testing: '123e5' << '-7.7' ---
          |string(38) "2d373230353735393430333739323739333630"
          |--- testing: '123e5' << 'abc' ---
          |string(6) "313233"
          |--- testing: '123e5' << '123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5' << '123e5' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5' << '123e5xyz' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5' << ' 123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5' << '123 abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5' << '123abc ' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5' << '3.4a' ---
          |string(6) "393834"
          |--- testing: '123e5' << 'a5.9' ---
          |string(6) "313233"
          |--- testing: '123e5xyz' << '0' ---
          |string(6) "313233"
          |--- testing: '123e5xyz' << '65' ---
          |string(6) "323436"
          |--- testing: '123e5xyz' << '-44' ---
          |string(18) "313238393734383438"
          |--- testing: '123e5xyz' << '1.2' ---
          |string(6) "323436"
          |--- testing: '123e5xyz' << '-7.7' ---
          |string(38) "2d373230353735393430333739323739333630"
          |--- testing: '123e5xyz' << 'abc' ---
          |string(6) "313233"
          |--- testing: '123e5xyz' << '123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5xyz' << '123e5' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5xyz' << '123e5xyz' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5xyz' << ' 123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5xyz' << '123 abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5xyz' << '123abc ' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123e5xyz' << '3.4a' ---
          |string(6) "393834"
          |--- testing: '123e5xyz' << 'a5.9' ---
          |string(6) "313233"
          |--- testing: ' 123abc' << '0' ---
          |string(6) "313233"
          |--- testing: ' 123abc' << '65' ---
          |string(6) "323436"
          |--- testing: ' 123abc' << '-44' ---
          |string(18) "313238393734383438"
          |--- testing: ' 123abc' << '1.2' ---
          |string(6) "323436"
          |--- testing: ' 123abc' << '-7.7' ---
          |string(38) "2d373230353735393430333739323739333630"
          |--- testing: ' 123abc' << 'abc' ---
          |string(6) "313233"
          |--- testing: ' 123abc' << '123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: ' 123abc' << '123e5' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: ' 123abc' << '123e5xyz' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: ' 123abc' << ' 123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: ' 123abc' << '123 abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: ' 123abc' << '123abc ' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: ' 123abc' << '3.4a' ---
          |string(6) "393834"
          |--- testing: ' 123abc' << 'a5.9' ---
          |string(6) "313233"
          |--- testing: '123 abc' << '0' ---
          |string(6) "313233"
          |--- testing: '123 abc' << '65' ---
          |string(6) "323436"
          |--- testing: '123 abc' << '-44' ---
          |string(18) "313238393734383438"
          |--- testing: '123 abc' << '1.2' ---
          |string(6) "323436"
          |--- testing: '123 abc' << '-7.7' ---
          |string(38) "2d373230353735393430333739323739333630"
          |--- testing: '123 abc' << 'abc' ---
          |string(6) "313233"
          |--- testing: '123 abc' << '123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123 abc' << '123e5' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123 abc' << '123e5xyz' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123 abc' << ' 123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123 abc' << '123 abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123 abc' << '123abc ' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123 abc' << '3.4a' ---
          |string(6) "393834"
          |--- testing: '123 abc' << 'a5.9' ---
          |string(6) "313233"
          |--- testing: '123abc ' << '0' ---
          |string(6) "313233"
          |--- testing: '123abc ' << '65' ---
          |string(6) "323436"
          |--- testing: '123abc ' << '-44' ---
          |string(18) "313238393734383438"
          |--- testing: '123abc ' << '1.2' ---
          |string(6) "323436"
          |--- testing: '123abc ' << '-7.7' ---
          |string(38) "2d373230353735393430333739323739333630"
          |--- testing: '123abc ' << 'abc' ---
          |string(6) "313233"
          |--- testing: '123abc ' << '123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc ' << '123e5' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc ' << '123e5xyz' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc ' << ' 123abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc ' << '123 abc' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc ' << '123abc ' ---
          |string(40) "2d32383832333033373631353137313137343430"
          |--- testing: '123abc ' << '3.4a' ---
          |string(6) "393834"
          |--- testing: '123abc ' << 'a5.9' ---
          |string(6) "313233"
          |--- testing: '3.4a' << '0' ---
          |string(2) "33"
          |--- testing: '3.4a' << '65' ---
          |string(2) "36"
          |--- testing: '3.4a' << '-44' ---
          |string(14) "33313435373238"
          |--- testing: '3.4a' << '1.2' ---
          |string(2) "36"
          |--- testing: '3.4a' << '-7.7' ---
          |string(36) "343332333435353634323237353637363136"
          |--- testing: '3.4a' << 'abc' ---
          |string(2) "33"
          |--- testing: '3.4a' << '123abc' ---
          |string(38) "31373239333832323536393130323730343634"
          |--- testing: '3.4a' << '123e5' ---
          |string(38) "31373239333832323536393130323730343634"
          |--- testing: '3.4a' << '123e5xyz' ---
          |string(38) "31373239333832323536393130323730343634"
          |--- testing: '3.4a' << ' 123abc' ---
          |string(38) "31373239333832323536393130323730343634"
          |--- testing: '3.4a' << '123 abc' ---
          |string(38) "31373239333832323536393130323730343634"
          |--- testing: '3.4a' << '123abc ' ---
          |string(38) "31373239333832323536393130323730343634"
          |--- testing: '3.4a' << '3.4a' ---
          |string(4) "3234"
          |--- testing: '3.4a' << 'a5.9' ---
          |string(2) "33"
          |--- testing: 'a5.9' << '0' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '65' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '-44' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '1.2' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '-7.7' ---
          |string(2) "30"
          |--- testing: 'a5.9' << 'abc' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '123abc' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '123e5' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '123e5xyz' ---
          |string(2) "30"
          |--- testing: 'a5.9' << ' 123abc' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '123 abc' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '123abc ' ---
          |string(2) "30"
          |--- testing: 'a5.9' << '3.4a' ---
          |string(2) "30"
          |--- testing: 'a5.9' << 'a5.9' ---
          |string(2) "30"
          |===DONE===
          |""".stripMargin
      )
    }
  }
}
